<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>OrderBookFlashBorrower</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../../book.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../../index.html">Home</a></li><li class="chapter-item affix "><li class="part-title">src</li><li class="chapter-item expanded "><a href="../../../src/abstract/index.html">❱ abstract</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/error.BadLender.html">BadLender</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/error.BadInitiator.html">BadInitiator</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/error.FlashLoanFailed.html">FlashLoanFailed</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/error.Initializing.html">Initializing</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/error.SwapFailed.html">SwapFailed</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/error.MinimumOutput.html">MinimumOutput</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/error.NonZeroBeforeArbStack.html">NonZeroBeforeArbStack</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/struct.OrderBookFlashBorrowerConfig.html">OrderBookFlashBorrowerConfig</a></li><li class="chapter-item expanded "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/abstract.OrderBookFlashBorrower.html" class="active">OrderBookFlashBorrower</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashBorrower.sol/constants.OrderBookFlashBorrower.html">OrderBookFlashBorrower constants</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashLender.sol/error.ZeroToken.html">ZeroToken</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashLender.sol/error.ZeroReceiver.html">ZeroReceiver</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashLender.sol/error.ZeroAmount.html">ZeroAmount</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashLender.sol/error.FlashLenderCallbackFailed.html">FlashLenderCallbackFailed</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashLender.sol/error.ActiveDebt.html">ActiveDebt</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashLender.sol/abstract.OrderBookFlashLender.html">OrderBookFlashLender</a></li><li class="chapter-item "><a href="../../../src/abstract/OrderBookFlashLender.sol/constants.OrderBookFlashLender.html">OrderBookFlashLender constants</a></li></ol></li><li class="chapter-item "><a href="../../../src/concrete/index.html">❱ concrete</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../src/concrete/GenericPoolOrderBookFlashBorrower.sol/contract.GenericPoolOrderBookFlashBorrower.html">GenericPoolOrderBookFlashBorrower</a></li><li class="chapter-item "><a href="../../../src/concrete/GenericPoolOrderBookFlashBorrower.sol/constants.GenericPoolOrderBookFlashBorrower.html">GenericPoolOrderBookFlashBorrower constants</a></li><li class="chapter-item "><a href="../../../src/concrete/OrderBook.sol/error.ReentrancyGuardReentrantCall.html">ReentrancyGuardReentrantCall</a></li><li class="chapter-item "><a href="../../../src/concrete/OrderBook.sol/error.NotOrderOwner.html">NotOrderOwner</a></li><li class="chapter-item "><a href="../../../src/concrete/OrderBook.sol/error.TokenMismatch.html">TokenMismatch</a></li><li class="chapter-item "><a href="../../../src/concrete/OrderBook.sol/error.MinimumInput.html">MinimumInput</a></li><li class="chapter-item "><a href="../../../src/concrete/OrderBook.sol/error.SameOwner.html">SameOwner</a></li><li class="chapter-item "><a href="../../../src/concrete/OrderBook.sol/contract.OrderBook.html">OrderBook</a></li><li class="chapter-item "><a href="../../../src/concrete/OrderBook.sol/constants.OrderBook.html">OrderBook constants</a></li></ol></li><li class="chapter-item "><a href="../../../src/interface/index.html">❱ interface</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../src/interface/deprecated/index.html">❱ deprecated</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/struct.DepositConfig.html">DepositConfig</a></li><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/struct.WithdrawConfig.html">WithdrawConfig</a></li><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/struct.IO.html">IO</a></li><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/struct.OrderConfig.html">OrderConfig</a></li><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/struct.Order.html">Order</a></li><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/struct.TakeOrdersConfig.html">TakeOrdersConfig</a></li><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/struct.TakeOrderConfig.html">TakeOrderConfig</a></li><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/struct.ClearConfig.html">ClearConfig</a></li><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/struct.ClearStateChange.html">ClearStateChange</a></li><li class="chapter-item "><a href="../../../src/interface/deprecated/IOrderBookV1.sol/interface.IOrderBookV1.html">IOrderBookV1</a></li></ol></li><li class="chapter-item "><a href="../../../src/interface/ierc3156/index.html">❱ ierc3156</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../src/interface/ierc3156/IERC3156FlashBorrower.sol/interface.IERC3156FlashBorrower.html">IERC3156FlashBorrower</a></li><li class="chapter-item "><a href="../../../src/interface/ierc3156/IERC3156FlashBorrower.sol/constants.IERC3156FlashBorrower.html">IERC3156FlashBorrower constants</a></li><li class="chapter-item "><a href="../../../src/interface/ierc3156/IERC3156FlashLender.sol/interface.IERC3156FlashLender.html">IERC3156FlashLender</a></li></ol></li><li class="chapter-item "><a href="../../../src/interface/unstable/index.html">❱ unstable</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../src/interface/unstable/IOrderBookV3.sol/struct.IO.html">IO</a></li><li class="chapter-item "><a href="../../../src/interface/unstable/IOrderBookV3.sol/struct.OrderConfig.html">OrderConfig</a></li><li class="chapter-item "><a href="../../../src/interface/unstable/IOrderBookV3.sol/struct.Order.html">Order</a></li><li class="chapter-item "><a href="../../../src/interface/unstable/IOrderBookV3.sol/struct.TakeOrdersConfig.html">TakeOrdersConfig</a></li><li class="chapter-item "><a href="../../../src/interface/unstable/IOrderBookV3.sol/struct.TakeOrderConfig.html">TakeOrderConfig</a></li><li class="chapter-item "><a href="../../../src/interface/unstable/IOrderBookV3.sol/struct.ClearConfig.html">ClearConfig</a></li><li class="chapter-item "><a href="../../../src/interface/unstable/IOrderBookV3.sol/struct.ClearStateChange.html">ClearStateChange</a></li><li class="chapter-item "><a href="../../../src/interface/unstable/IOrderBookV3.sol/interface.IOrderBookV3.html">IOrderBookV3</a></li></ol></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/struct.DepositConfig.html">DepositConfig</a></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/struct.WithdrawConfig.html">WithdrawConfig</a></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/struct.IO.html">IO</a></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/struct.OrderConfig.html">OrderConfig</a></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/struct.Order.html">Order</a></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/struct.TakeOrdersConfig.html">TakeOrdersConfig</a></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/struct.TakeOrderConfig.html">TakeOrderConfig</a></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/struct.ClearConfig.html">ClearConfig</a></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/struct.ClearStateChange.html">ClearStateChange</a></li><li class="chapter-item "><a href="../../../src/interface/IOrderBookV2.sol/interface.IOrderBookV2.html">IOrderBookV2</a></li></ol></li><li class="chapter-item "><a href="../../../src/lib/index.html">❱ lib</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../src/lib/LibOrder.sol/library.LibOrder.html">LibOrder</a></li><li class="chapter-item "><a href="../../../src/lib/LibOrderBook.sol/struct.OrderIOCalculation.html">OrderIOCalculation</a></li><li class="chapter-item "><a href="../../../src/lib/LibOrderBook.sol/library.LibOrderBook.html">LibOrderBook</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rainprotocol/rain.orderbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="orderbookflashborrower"><a class="header" href="#orderbookflashborrower">OrderBookFlashBorrower</a></h1>
<p><a href="https://github.com/rainprotocol/rain.orderbook/blob/bc1ef8bda6d1f1c6857ff284f17d6369cd1c4dbe/src/abstract/OrderBookFlashBorrower.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="/src/interface/ierc3156/IERC3156FlashBorrower.sol/interface.IERC3156FlashBorrower.html">IERC3156FlashBorrower</a>, ICloneableV2, ReentrancyGuard, Initializable, DeployerDiscoverableMetaV1, ERC165</p>
<p>Abstract contract that liq-source specifialized contracts can inherit
to provide flash loan based arbitrage against external liquidity sources to
fill orderbook orders.
For example consider a simple order:
input = DAI
output = USDT
IORatio = 1.01e18
Order amount = 100e18
Assume external liq is offering 102 DAI per USDT so it exceeds the IO ratio
but the order itself has no way to interact with the external contract.
The <code>OrderBookFlashBorrower</code> can:</p>
<ul>
<li>Flash loan 100 USDT from <code>Orderbook</code></li>
<li>Sell the 100 USDT for 102 DAI on external liq</li>
<li>Take the order, giving 101 DAI and paying down 100 USDT loan</li>
<li>Keep 1 DAI profit
As this contract is expected to be cloned using a minimal proxy there will
be many copies of it in the wild. Each copy can be access gated by a Rain
expression that is evaluated before anything else happens in <code>arb</code>. There
are many reasons why this might be desirable:</li>
<li>Regulatory reasons that restrict how an arb bot operator can interact with
orders and/or external liq.</li>
<li>The arb operator wants to attempt to prevent front running by other bots.</li>
<li>The arb operator may prefer a dedicated instance of the contract to make
it easier to track profits, etc.</li>
</ul>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="sorderbook"><a class="header" href="#sorderbook">sOrderBook</a></h3>
<p><code>OrderBook</code> contract to lend and arb against.</p>
<pre><code class="language-solidity">IOrderBookV2 public sOrderBook;
</code></pre>
<h3 id="si9rdispatch"><a class="header" href="#si9rdispatch">sI9rDispatch</a></h3>
<p>The encoded dispatch that will run for access control to <code>arb</code>.</p>
<pre><code class="language-solidity">EncodedDispatch public sI9rDispatch;
</code></pre>
<h3 id="si9r"><a class="header" href="#si9r">sI9r</a></h3>
<p>The interpreter that will eval access control to <code>arb</code>.</p>
<pre><code class="language-solidity">IInterpreterV1 public sI9r;
</code></pre>
<h3 id="si9rstore"><a class="header" href="#si9rstore">sI9rStore</a></h3>
<p>The associated store for the interpreter.</p>
<pre><code class="language-solidity">IInterpreterStoreV1 public sI9rStore;
</code></pre>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<pre><code class="language-solidity">constructor(bytes32 metaHash, DeployerDiscoverableMetaV1ConstructionConfig memory config)
    DeployerDiscoverableMetaV1(metaHash, config);
</code></pre>
<h3 id="supportsinterface"><a class="header" href="#supportsinterface">supportsInterface</a></h3>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool);
</code></pre>
<h3 id="_beforeinitialize"><a class="header" href="#_beforeinitialize">_beforeInitialize</a></h3>
<p>Hook called before initialize happens. Inheriting contracts can perform
internal state maintenance before any external contract calls are made.</p>
<pre><code class="language-solidity">function _beforeInitialize(bytes memory data) internal virtual;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Arbitrary bytes the child may use to initialize.</td></tr>
</tbody></table>
</div>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<p>Type hints for the input encoding for the <code>initialize</code> function.
Reverts ALWAYS with <code>InitializeSignatureFn</code> as per ICloneableV2.</p>
<pre><code class="language-solidity">function initialize(OrderBookFlashBorrowerConfig memory) external pure returns (bytes32);
</code></pre>
<h3 id="initialize-1"><a class="header" href="#initialize-1">initialize</a></h3>
<pre><code class="language-solidity">function initialize(bytes memory data) external initializer nonReentrant returns (bytes32);
</code></pre>
<h3 id="onlynotinitializing"><a class="header" href="#onlynotinitializing">onlyNotInitializing</a></h3>
<p>Ensure the contract is not initializing.</p>
<pre><code class="language-solidity">modifier onlyNotInitializing();
</code></pre>
<h3 id="_exchange"><a class="header" href="#_exchange">_exchange</a></h3>
<p>Hook that inheriting contracts MUST implement in order to achieve
anything other than raising the ambient temperature of the room.
<code>_exchange</code> is responsible for converting the flash loaned assets into
the assets required to fill the orders. Generally this can only be
achieved by interacting with an external liquidity source that is
offering a better price than the orders require.</p>
<pre><code class="language-solidity">function _exchange(TakeOrdersConfig memory takeOrders, bytes memory exchangeData) internal virtual;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>takeOrders</code></td><td><code>TakeOrdersConfig</code></td><td>As per <code>arb</code>.</td></tr>
<tr><td><code>exchangeData</code></td><td><code>bytes</code></td><td>As per <code>arb</code>.</td></tr>
</tbody></table>
</div>
<h3 id="onflashloan"><a class="header" href="#onflashloan">onFlashLoan</a></h3>
<p><em>Receive a flash loan.</em></p>
<pre><code class="language-solidity">function onFlashLoan(address initiator, address, uint256, uint256, bytes calldata data)
    external
    onlyNotInitializing
    returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>initiator</code></td><td><code>address</code></td><td>The initiator of the loan.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Arbitrary data structure, intended to contain user-defined parameters.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>The keccak256 hash of &quot;ERC3156FlashBorrower.onFlashLoan&quot;</td></tr>
</tbody></table>
</div>
<h3 id="arb"><a class="header" href="#arb">arb</a></h3>
<p>Primary function to process arbitrage opportunities.
Firstly the access gate is evaluated to ensure the sender is allowed to
submit arbitrage. If there is no access control the sender should expect
to be front run on the arb for any sufficiently profitable opportunity.
This may be desirable in some cases, as the sender may simply want to
be clearing the orderbook and they are expecting profit/utility from the
orderbook strategies themselves somehow.
Secondly the flash loan is taken and the <code>_exchange</code> hook is called to
allow the inheriting contract to convert the flash loaned assets into
the assets required to fill the orders.
Finally the orders are taken and the remaining assets are sent to the
sender.</p>
<pre><code class="language-solidity">function arb(TakeOrdersConfig calldata takeOrders, uint256 minimumSenderOutput, bytes calldata exchangeData)
    external
    nonReentrant
    onlyNotInitializing;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>takeOrders</code></td><td><code>TakeOrdersConfig</code></td><td>As per <code>IOrderBookV2.takeOrders</code>.</td></tr>
<tr><td><code>minimumSenderOutput</code></td><td><code>uint256</code></td><td>The minimum output that must be sent to the sender by the end of the arb call. This, in combination with the orderbook's own asset handling, is expected to REPLACE the standard slippage protection that would be provided by a DEX. The sender is expected to calculate absolute values based on prevailing conditions such as gas price and the risk of holding the assets any arb profit is denominated in.</td></tr>
<tr><td><code>exchangeData</code></td><td><code>bytes</code></td><td>Arbitrary bytes that will be passed to <code>_exchange</code> after the flash loan is taken. The inheriting contract is responsible for decoding this data and defining how it controls interactions with the external liquidity. For example, <code>GenericPoolOrderBookFlashBorrower</code> uses this data as a literal encoded external call.</td></tr>
</tbody></table>
</div>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="initialize-2"><a class="header" href="#initialize-2">Initialize</a></h3>
<p>Emitted when the contract is initialized. Contains the
OrderBookFlashBorrowerConfig struct to ensure the type appears in the
ABI.</p>
<pre><code class="language-solidity">event Initialize(address sender, OrderBookFlashBorrowerConfig config);
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../src/abstract/OrderBookFlashBorrower.sol/struct.OrderBookFlashBorrowerConfig.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../../src/abstract/OrderBookFlashBorrower.sol/constants.OrderBookFlashBorrower.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../src/abstract/OrderBookFlashBorrower.sol/struct.OrderBookFlashBorrowerConfig.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../../src/abstract/OrderBookFlashBorrower.sol/constants.OrderBookFlashBorrower.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../../elasticlunr.min.js"></script>
        <script src="../../../mark.min.js"></script>
        <script src="../../../searcher.js"></script>

        <script src="../../../clipboard.min.js"></script>
        <script src="../../../highlight.js"></script>
        <script src="../../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../../solidity.min.js"></script>


    </div>
    </body>
</html>
